
---

# **Next.js Routing – Short Note**

Next.js supports **file-based routing**. Every file inside the `pages/` (Next 12) or `app/` (Next 13 App Router) folder becomes a route.

---

## **1. Basic Routes**

```
pages/
├─ index.js       -> "/"
├─ about.js       -> "/about"
├─ contact.js     -> "/contact"
```

* Access via browser: `/`, `/about`, `/contact`.

---

## **2. Nested Routes**

```
pages/
├─ blog/
│  ├─ index.js   -> "/blog"
│  ├─ [id].js    -> "/blog/:id"
```

* `[id].js` → **Dynamic route** (e.g., `/blog/1`, `/blog/abc`)
* Use `useRouter` to get params:

```js
import { useRouter } from 'next/router';
const router = useRouter();
const { id } = router.query;
```

---

## **3. Optional & Catch-all Routes**

* `[...slug].js` → matches `/a`, `/a/b`, `/a/b/c`
* `[[...slug]].js` → matches `/` or `/a/b/c`

---

## **4. Link Navigation**

```js
import Link from 'next/link';

<Link href="/about">About</Link>
<Link href={`/blog/${id}`}>Blog {id}</Link>
```

---

## **5. App Router (Next 13+)**

```
app/
├─ page.js        -> "/"
├─ about/page.js  -> "/about"
├─ blog/[id]/page.js -> "/blog/:id"
```

* Each folder **represents a route**.
* `layout.js` → shared layout for nested routes.
* `loading.js` → loading UI for suspense.
* `not-found.js` → custom 404 page for that route.

---

## **6. Special Routes**

* `404.js` or `not-found.js` → custom 404
* `_app.js` → global app wrapper
* `_document.js` → custom HTML structure (SSR)

---

## **7. Redirects & Rewrites**

```js
// next.config.js
module.exports = {
  async redirects() {
    return [
      { source: '/old', destination: '/new', permanent: true },
    ];
  },
  async rewrites() {
    return [
      { source: '/api/:path*', destination: '/backend/:path*' },
    ];
  },
};
```

---

## **8. Navigation Methods**

* `Link` → client-side
* `router.push('/path')` → programmatic
* `router.replace('/path')` → replace history

---

## **ASCII Summary of Routing**

```
/        -> pages/index.js or app/page.js
/about   -> pages/about.js or app/about/page.js
/blog    -> pages/blog/index.js
/blog/1  -> pages/blog/[id].js
/blog/1/a -> pages/blog/[id]/[sub].js
```

---

✅ **Key Concept:**
Next.js routes = **file system**. Dynamic routes use `[param]`, optional `[[param]]`, catch-all `[...param]`. App Router adds **layouts**, **loading**, **nested routes**.

---

